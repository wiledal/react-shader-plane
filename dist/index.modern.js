import e,{useState as n,useEffect as r}from"react";import{PlaneBufferGeometry as o,MeshBasicMaterial as t,Mesh as a,Texture as m}from"three";import{Canvas as i,useThree as u,useFrame as c}from"react-three-fiber";function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var f="\n  vec4 texelColor = texture2D( map, vUv );\n  texelColor = mapTexelToLinear( texelColor );\n  diffuseColor = texelColor;\n",p={uTime:{type:"float",value:0},uMouse:{type:"vec2",value:[0,0]}};function s(m){var i=u(),s=i.camera,v=i.gl,h=i.mouse,d=n(),g=d[0],x=d[1],y=n(),w=y[0],C=y[1];function E(e){var n,r=l({},p,{},m.uniforms);e.uniforms=l({},e.uniforms,{},r),e.fragmentShader="\n      "+(n=r,"\n    "+Object.keys(n).map(function(e){return function(e,n){return"uniform "+n.type+" "+e+";"}(e,n[e])}).join("")+"\n  \n    ")+e.fragmentShader.replace("#include <common>","\n      "+(m.functions||"")+"\n\n      #include <common>\n    ").replace("#include <map_fragment>","\n        "+(m.fragmentShader||f)+"\n      "),C(e)}return r(function(){s.position.z=500;var e=new o(1,1,24,24),n=new t({map:m.map,onBeforeCompile:E}),r=new a(e,n);x(r)},[]),c(function(){w&&(w.uniforms.uTime.value=performance.now(),g.scale.x=v.domElement.width,g.scale.y=v.domElement.height,w.uniforms.uMouse.value=[h.x,h.y]),m.onFrame&&m.onFrame(w)}),e.createElement(e.Fragment,null,g&&e.createElement("primitive",{object:g}))}export default function(n){return void 0===n&&(n={uniforms:[],map:m,fragmentShader:f,functions:"",onFrame:Function}),e.createElement(i,{orthographic:!0},e.createElement(s,n))}export{s as Plane};
//# sourceMappingURL=index.modern.js.map
