var e,n=require("react"),r=(e=n)&&"object"==typeof e&&"default"in e?e.default:e,t=require("three"),a=require("react-three-fiber");function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var u="\n  vec4 texelColor = texture2D( map, vUv );\n  texelColor = mapTexelToLinear( texelColor );\n  diffuseColor = texelColor;\n",i={uTime:{type:"float",value:0},uMouse:{type:"vec2",value:[0,0]}};function m(e){var m=a.useThree(),l=m.camera,c=m.gl,f=m.mouse,s=n.useState(),p=s[0],v=s[1],h=n.useState(),d=h[0],g=h[1];function x(n){var r,t=o({},i,{},e.uniforms);n.uniforms=o({},n.uniforms,{},t),n.fragmentShader="\n      "+(r=t,"\n    "+Object.keys(r).map(function(e){return function(e,n){return"uniform "+n.type+" "+e+";"}(e,r[e])}).join("")+"\n  \n    ")+n.fragmentShader.replace("#include <common>","\n      "+(e.functions||"")+"\n\n      #include <common>\n    ").replace("#include <map_fragment>","\n        "+(e.fragmentShader||u)+"\n      "),g(n)}return n.useEffect(function(){l.position.z=500;var n=new t.PlaneBufferGeometry(1,1,24,24),r=new t.MeshBasicMaterial({map:e.map,onBeforeCompile:x}),a=new t.Mesh(n,r);v(a)},[]),a.useFrame(function(){d&&(d.uniforms.uTime.value=performance.now(),p.scale.x=c.domElement.width,p.scale.y=c.domElement.height,d.uniforms.uMouse.value=[f.x,f.y]),e.onFrame&&e.onFrame(d)}),r.createElement(r.Fragment,null,p&&r.createElement("primitive",{object:p}))}exports.Plane=m,exports.default=function(e){return void 0===e&&(e={uniforms:[],map:t.Texture,fragmentShader:u,functions:"",onFrame:Function}),r.createElement(a.Canvas,{orthographic:!0},r.createElement(m,e))};
//# sourceMappingURL=index.js.map
